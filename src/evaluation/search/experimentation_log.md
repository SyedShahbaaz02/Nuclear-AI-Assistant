# Results History

| Date | Index | Experiment | GT Source | Metrics | Discussion |
|---|---|---|---|---|---|
| 5/15/2025 | nureg | Initial scoring of a naive approach | [Synthetic](./nureg-generate-synth-data.ipynb) | Full Text - Acc 52.9%, Prec 100%, Rec 2.2%, F1 4.3%, Avg Cos 0.741, Med Cos 0.702 / Vector - Acc 61.5%, Prec 30.1%, Rec 100%, F1 46.3%, Avg Cos 0.786, Med Cos 0.755 / Hybrid - Acc 37.4% Prec 31.1%, Rec 96.3%, F1 47.1%, Avg Cos 0.766, Med Cos 0.740 | For the initial phase of the nureg ingestion Full Text search gives the best Precision, but the worst Recall ending with an F1 of only 4.3%. Vector alone gives the best Recall, just slightly ahead of Hybrid. However, hybrid has a larger advantage in Precision resulting in a better F1 than Vector alone. Accuracy is influenced by TN, which itself can be influenced by the theshold settings. The lower accuracy of hybrid is interesting and is something that should be pursued for improvement. It is probably expectd that cosine similarity is highest for the vector only search, with hybrid closely behind. |
| 6/24/2025 | nureg | Evaluation of index using LER / AS9 report text | [Notebook](./nureg_index_eval.ipynb) | MRR: 0.757969; Distribution of positions for the first hit: (0.671, 0.091, 0.0376, 0.094, 0.037, 0.022, 0.007, 0.0008, 0.0, 0.0, 0.0004, 0.0, 0.0, 0.0, 0.038); Average cosine similarity among inputs: 0.87; Average cosine similarity among discussion vectors in the index: 0.61; Average cosine similarity among description vectors in the index: 0.63; Mean score values for different K: FullText: (63.669 52.685 46.802 40.995 37.716 34.842 32.544 30.513 28.624 26.918 25.115 22.71  17.732 14.871), Vector:  (0.033 0.032 0.032 0.031 0.031 0.03  0.03  0.03  0.029 0.029 0.029 0.028 0.028 0.016), Hybrid same as vector. For the newcap reports corresponding to the LERs, FullText scores are about 25% of the LER scores. First hit is often in a different position in a small sample (n = 5). Precision, Recall, F10score: (0.65, 0.4, 0.29, 0.26, 0.23, 0.2, 0.18, 0.16, 0.14, 0.13, 0.11, 0.11, 0.1, 0.09), (0.57, 0.67, 0.72, 0.85, 0.91, 0.95, 0.96, 0.97, 0.97, 0.97, 0.97, 0.97, 0.97, 0.97), (0.57, 0.66, 0.71, 0.82, 0.88, 0.91, 0.91, 0.91, 0.91, 0.9, 0.89, 0.89, 0.88, 0.87) respectively | Precision starts at 0.67 and drops quite quickly afterwards - two thirds of the first results are a hit and the second and third result are likely to be misses. Recall starts at around 0.6 and has a long tail afterwards. 80 percent is achieved at K=5. Different LERs have quite high cosine similarity, close to 90 percent. This is going to make it harder to search, as they tend to have similar vectors. The index documents themselves are quite similar too, with average similarity of more than 0.6 for both discussion and description vectors. The st.dev. of scores is large as well, which makes the index less robust, both regarding different embeddings and similar LER texts. FullText search is by far the best alternative compared to Vector and Hybrid as a result. When comparing LERs with the corresponding initial reports from AS9, the results are very different, with newcap reports generally scoring lower in the small sample, but more research is needed.|
| 07/08/2025 | LS-AA-1110 | Evaluation of the reportability manual |  [Notebook](./lsaa1110_index_eval.ipynb)  | The index has 50 entries, out of which only 13 are relevant to 50.73. Some SAF sections contain the same relevant nureg paragraphs, eg SAF 1.11 and SAF 1.16 bot include 50.73(a)(2)(i)(B). MRR: 0.34, 0.66, 0.56 for FullText, Vector and Hybrid respectively. Distributions for the first hit for the first few positions: FullText: [0.10, 0.06, 0.04, 0.06], Vector: [0.47, 0.14, 0.08, 0.06, 0.05] and Hybrid: [0.22, 0.24, 0.13, 0.08, 0.05] - all have a long tail. Average cosine similarity among entries is 0.63. Average score for a given position: FullText: [93 81 70 64 60], Vector: [0.71 0.69 0.69 0.68 0.68], Hybrid: [0.032, 0.031, 0.031, 0.03, .029]. Standard Deviation: [26 23 19 18 16] ,  [0.02 0.02 0.017 0.017 0.017] and [0.0006, 0.0006, 0.0005 0.0005] respectively. For FullText, Precision starts at about 0.2 falls rapidly and then slowly approaches the natural limit of 1/50=0.02. Recall increases from 0.2 to 0.8 almost linearly between K=0 to K=20, and then after an inflection point moves linearly towards 1.0. F1 score is maximized at 17 and dropping afterwards. For Vector/Hybrid, Precision starts at 0.4 and falls inversely proportional to K; Recall starts at 0.37 and asymptotically approaches 1.0, hits 80% at \ K=10, and Fbeta score is maximized at K=14.| Results are significantly worse than the nureg index. The best search is Vector, and we need 8 documents to achieve 80% recall rate. In addition, the best performance is with Vector, and different from NUREG where best performance is achieved with FullText. In the small number of examples, there is good similarity between the performance on the LER abstract vs the respective newcap entries. |
| 08/26/2025 | nureg-section-3-2-index | Evaluation of index using static ground truth that contains both 50.72 and 50.73 | [Notebook](./nureg_index_eval.ipynb) | Distributions of positions for first hit FullText: [0.144, 0.072, 0.07, 0.05, 0.021, 0.0124, 0.022, 0.009, 0.0012422360248447205, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5987577639751552]; Distributions of positions for first hit Vector: [0.110, 0.056, 0.043, 0.022, 0.009, 0.002, 0.002, 0.0, 0.0, 0.0, 0.155, 0.0, 0.0, 0.0, 0.6]; Distributions of positions for first hit Hybrid: [0.124, 0.064, 0.035, 0.016, 0.005, 0.001, 0.0, 0.0, 0.0, 0.0, 0.155, 0.0, 0.0, 0.0, 0.6]; FullText Score mean values: 43.37; Vector Score mean values: 0.03; Hybrid Score mean values: 0.04;  FullText MRR: 0.29; Vector MRR: 0.23; Hybrid MRR: 0.25 | When comparing the MRR against the three search types, FullText yields the highest MRR which indicates it ranks the correct section higher than Vector and Hybrid search. When comparing precision, recall, Fbeta, all three search types decreases for precision as K increasesw while Recall and Fbeta shows slight increase and then a plateau. When comparing distribution of first hit position, all three search methods have a high number of queries where the first hit is not in the top K however FullText slight has a higher chance of an early first hit. Based on these data, FullText seems to be the best search method to use compared to Vector and Hybrid however there definitely needs improvements made with the retrieval quality. |
| 08/26/2025 | reportability-manual-index | Evaluation of index using static ground truth that contains both 50.72 and 50.73 | [Notebook](./reportability_manual_index_eval.ipynb) | Fulltext MRR: 0.231; Hybrid MRR: 0.508; Vector MRR: 0.571; Distribution of positions for the first hit FullText:[0.08356164383561644, 0.055, 0.056, 0.077, 0.0904, 0.0795]; Distribution of positions for the first hit Vector:[0.388, 0.120, 0.085, 0.063, 0.066, 0.044]; Distribution of positions for the first hit Hybrid:[0.267, 0.163, 0.097, 0.105, 0.073, 0.038]; FullText Score mean values: 26.69; Vector Score mean values: 0.63; Hybrid Score mean values: 0.018; FullText Score stdev values: 32.99; Vector Score stdev values:0.03; Hybrid Score stdev values:0.005 | When analyzing MRR for all three search types, Vector outperforms FullText and Hybrid. When anayzing precision, recall, Fbeta for all three search types, precision drops as K increases and recall rises quickly and plateaus near 1.0 and Fbeta peaks at early K=10-20 then drops. Looking at the mean score and standard deviation, FullText scores are much higher and more variable while Vector scores are low but indicates stable confidence and Hybrid scores are lower than Vector that suggests there is little benefit from combining Vector and FullText search. Looking at distribution of fist hit positions, Vector shows the most queries to be correct at position 1 compared to FullText and Hybrid. With this, data indicates that Vector search would be the best method to use for this index.|
| 08/26/2025 | keyphrase-experiment-nureg-section-3-2-index | Keyphrase Extraction Skill Experiment | [Notebook](./nureg_index_eval.ipynb) | Distribution of positions for the first hit FullText:[0.143, 0.119, 0.0714, 0.071, 0.024, 0.024, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.548]; Distribution of positions for the first hit Vector:[0.0714, 0.119, 0.0714, 0.0238, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.167, 0.0, 0.0, 0.0, 0.548]; Distribution of positions for the first hit Hyrbid:[0.095, 0.119, 0.048, 0.024, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.167, 0.0, 0.0, 0.0, 0.548]; FullText Score mean values: 43.47; Vector Score mean values: 0.029; Hybrid Score mean values: 0.044; FullText Score stdev values: 42.95; Vector Score stdev values: 0.004; Hybrid Score stdev values: 0.004; FullText MRR: 0.30; Vector MRR: 0.22; Hybrid MRR: 0.25 | Because this is an experiment index, evaluation done with random sampling of 46 unique records from the static ground truth file. When comparing MRR(Mean Reciprocal Rank) between the three search types, FullText is the highest which means it is the most effective at ranking the correct document near the top and Vector is the lowest which means it is the least effect at surfacing the correct document near the top. When comparing search types on distribution of first hit positions, FullText is slightly better but all three search types struggle to rank the correct result near the top and all search types have a long tail indiciating many queries are not well ranked. When comparing standard deviation and mean scores, FullText has a high mean and standard deviation which indicates FulLText can assign a strong score when it finds relevant result however the high standard deviation indiciates the scores are highly variable. Vector search mean score is much lower which means that it rarely finds high similar matches however low standard deviation indicates it is stable. Hybrid search has a slightly higher mean than Vector but a low standard deviation. When comparing Precision, Recall, and Fbeta scores, FullText seems to achieve the best Fbeta and recall at lower K which indicates it might be the best at surfacing relevant sections early. Hybrid and Vector both show lag in the early precision and the overall MRR. In conclusion, vector or hybrid search is preferable if consistency is important however FullText may be better if having strong matches is more important. If the index will use FullText, it is recommended to include Keyphrase extraction skill since it only improved FullText's MRR. |
| 08/26/2025 | keyphrase-experiment-reportability-manual-index | Keyphrase Extraction Skill Experiment | [Notebook](./reportability_manual_index_eval.ipynb) | Distribution of positions for the first hit FullText:[0.143, 0.119, 0.0714, 0.071, 0.024, 0.024, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.548]; Distribution of positions for the first hit Vector:[0.0714, 0.119, 0.0714, 0.0238, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.167, 0.0, 0.0, 0.0, 0.548]; Distribution of positions for the first hit Hyrbid:[0.095, 0.119, 0.048, 0.024, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.167, 0.0, 0.0, 0.0, 0.548]; FullText Score mean values: 43.47; Vector Score mean values: 0.029; Hybrid Score mean values: 0.044; FullText Score stdev values: 42.95; Vector Score stdev values: 0.004; Hybrid Score stdev values: 0.004; FullText MRR: 0.30; Vector MRR: 0.22; Hybrid MRR: 0.25 | Because this is an experiment index, evaluation was done with random sampling of 46 unique records from the static ground truth file. When comparing the MRR between all three search types, Vector search performed the best. When comparing mean score and standard deviation, FullText mean scores are the highest but also highly variable which indicates it is inconsistent with ranking confidence. Vector mean scores are low however the standard deviation shows that it is much more stable. Hybrid on the other hand, mean scores are even lower than Vector with a stable ranking confidence but indicates combining Vector and FullText search does not boost confidence. When comapring first hit distribution amongst the three search types, FullText hits are spread out with not a really strong peak. On the other hand, Vector search shows a strong hit at position 1 which indicates it is the best search at surfacing correct results early followed by Hybrid search. The charts showing Precision, Recall, and Fbeta Scores indicates that FullText precision dropped quickly, recall rising slowly, and Fbeta peaking early then declining. Vector and Hybrid search had similar results where both had high early recall and Fbeta and shows it stabling with K increasing. Taking in consideration of all these metrics, Vector search would be the best search type to use with its strong MRR, early hit rate, and stable scoring. If the index will use FullText, it is recommended to include Keyphrase extraction skill since it only improved FullText's MRR.|
| 08/27/2025 | nureg-section-3-2-index | Remove Description and DescriptionVector Fields | [Notebook](./nureg_index_eval.ipynb) | Distribution of positions for the first hit FullText:[0.214, 0.095, 0.0238, 0.0714, 0.0, 0.0238, 0.0, 0.0238, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.548]; Distribution of positions for the first hit Vector:[0.143, 0.0714, 0.166, 0.0238, 0.0476, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.548]; Distribution of positions for the first hit Hyrbid:[0.190, 0.143, 0.095, 0.0, 0.0238, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.548];FullText MRR: 0.33; Vector MRR: 0.29; Hybrid MRR: 0.35 | Revisiting the baseline eval for nureg index, the scores seemed quite low for all three search types and this can be significantly seen in the MRR. An experiment was done to see if removing description and descriptionVector from searchable fields would improve the scores. The experiment evaluation ran with a small subset of 46 records and noticed some improvements across all three search types. Based on this, it is recommended to remove description and descriptionVector to be search against since it seems to be causing noise. Hybrid search is the recommended search type for the nureg index.|
| 08/28/2025 | nureg-section-3-2-index | Evaluation Using Ground Truth 5073 Only | [Notebook](./nureg_index_eval.ipynb) | FullText MRR: 0.62; Vector MRR: 0.49; Hybrid MRR: 0.53 | Revisiting the baseline eval for nureg index, the scores seemed quite low in the baseline. Discovered that the nureg index evaluation notebook currently only evaluates 50.73 sections only thus using single ground truth will throw numbers off. Reran the baseline with just using 5072 ground truth and modified code to compare against 5072 sections which is lxii. For 50.72 sections,FullText seems to perform the best followed by hybrid and vector serach lastly. It is interesting to see that FullText still performed the best for 50.73 ground truth evaluation. Note: The change in numbers are expected because 5072 and 5073 ground truth comes from different source of ground truth that contains different amount of information. For 5073, the ground truth content comes from LER abstracts along with the reported section. Reminder that the abstract contains a lot more information that gets fed into the system. |
| 08/28/2025 | nureg-section-3-2-index | Evaluation Using Ground Truth 5072 Only | [Notebook](./nureg_index_eval.ipynb) | FullText MRR: 0.56; Vector MRR: 0.49; Hybrid MRR: 0.53 | Revisiting the baseline eval for nureg index, the scores seemed quite low in the baseline. Discovered that the nureg index evaluation notebook currently only evaluates 50.73 sections only thus using single ground truth will throw numbers off. Reran the baseline with just using 5072 ground truth and modified code to compare against 5072 sections which is lxii. For 50.72 sections,FullText seems to perform the best marginally followed by Hybrid and lastly Vector. Note: The change in numbers are expected because 5072 and 5073 ground truth comes from different source of ground truth that contains different amount of information. For 5072, the ground truth content comes from IRs which contains the intial utterance of what the condition is along with the reported section. Thus, the numbers for 5072 might be the most reasonable result because the goal of the ground truth is to contain the least amount of information to the system. |
| 08/28/2025 | nureg-section-3-2-index | Evaluation Using Ground Truth 5072 Only With Removing Description/DescriptionVector in Nureg Index | [Notebook](./nureg_index_eval.ipynb) | FullText MRR: 0.45; Vector MRR: 0.61; Hybrid MRR: 0.51 | Ran with using 48 subset records. Revisiting the experiment of removing description and descriptionVector from Nureg Index using 50.72 ground truth file, Vector performs the best followed by Hybrid and FullText. It can be safely concluded that removing description and descriptionVector is the best approach to help improve the search index and use vector search. The reason for the boost in performance could be that searching against two embedding fields could have caused noise. |
| 08/28/2025 | nureg-section-3-2-index | Evaluation Using Ground Truth 5073 Only With Removing Description/DescriptionVector in Nureg Index | [Notebook](./nureg_index_eval.ipynb) | FullText MRR: 0.67; Vector MRR: 0.64; Hybrid MRR: 0.77 | Ran with using 43 subset records. Revisiting the experiment of removing description and descriptionVector from Nureg Index using 50.73 ground truth file, Hybrid performs the best followed by FullText and Vector. It can be safely concluded that removing description and descriptionVector is the best approach to help improve the search index and use hybrid search. The reason for the boost in performance could be that searching against two embedding fields could have caused noise. |
| 08/28/2025 | nureg-section-3-2-index | Evaluation Using Ground Truth 5073 Only With Removing Description/DescriptionVector in Nureg Index | [Notebook](./nureg_index_eval.ipynb) | FullText MRR: 0.67; Vector MRR: 0.64; Hybrid MRR: 0.77 | Ran with using 43 subset records. Revisiting the experiment of removing description and descriptionVector from Nureg Index using 50.73 ground truth file, Hybrid performs the best followed by FullText and Vector. It can be safely concluded that removing description and descriptionVector is the best approach to help improve the search index and use hybrid search. The reason for the boost in performance could be that searching against two embedding fields could have caused noise. |
| 08/29/2025 | nureg-section-3-2-index | Evaluation Using Single Ground Truth With Removing Description/DescriptionVector in Nureg Index | [Notebook](./nureg_index_eval.ipynb) | FullText MRR: 0.33; Vector MRR: 0.29; Hybrid MRR: 0.35; Distributions of first hit FullText:SearchType:FullText: [0.21428571428571427, 0.09523809523809523, 0.023809523809523808, 0.07142857142857142, 0.0, 0.023809523809523808, 0.0, 0.023809523809523808, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5476190476190477]; Distributions of first hit Vector:SearchType:Vector: [0.14285714285714285, 0.07142857142857142, 0.16666666666666666, 0.023809523809523808, 0.047619047619047616, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5476190476190477]; Distrbution of first hit Hybrid:SearchType:Hybrid: [0.19047619047619047, 0.14285714285714285, 0.09523809523809523, 0.0, 0.023809523809523808, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5476190476190477] | Ran with using 46 subset records. The important outcome of this small evaluation is that the hybrid search type outpeforms vector and fulltext and this can be concluded from looking at the MRR results. When comparing the distributions of first hit, hybrid search has the lowest percentage of returning the correct document first position compared to fulltext and vector however the percentage looks higher for hybrid and more consistent compared to fulltext and vector. Looking at the distribution of first hit, the top k would be at least 5 for hybrid however it is interesting to see that the percentage is 0 on the 4th position for hybrid. Would recommend comparing vector and hybrid search to determine what the recall, precision, f1 looks like in the system evaluation. |
